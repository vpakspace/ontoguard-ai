<?xml version="1.0"?>
<!--
    Healthcare Ontology for OntoGuard
    
    This ontology defines the semantic structure and business rules for a healthcare system.
    It includes patient records, medical staff roles, medical procedures, prescriptions,
    and access control rules for HIPAA compliance.
    
    Key Business Rules:
    - Only authorized medical staff can access patient records
    - Prescriptions require doctor approval
    - Sensitive procedures need multiple approvals
    - Patient data access is logged and audited
    - Emergency access has special rules
    
    Namespace: http://example.org/healthcare#
-->

<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:owl="http://www.w3.org/2002/07/owl#"
         xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
         xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
         xml:base="http://example.org/healthcare#">

    <!-- ============================================ -->
    <!-- ONTOLOGY METADATA -->
    <!-- ============================================ -->
    
    <owl:Ontology rdf:about="http://example.org/healthcare">
        <rdfs:comment>Healthcare Ontology for OntoGuard Semantic Validation</rdfs:comment>
        <rdfs:label>Healthcare Ontology</rdfs:label>
        <owl:versionInfo>1.0</owl:versionInfo>
    </owl:Ontology>

    <!-- ============================================ -->
    <!-- CLASSES (CONCEPTS) -->
    <!-- ============================================ -->
    
    <!-- Medical Staff Classes -->
    <owl:Class rdf:about="#MedicalStaff">
        <rdfs:label>Medical Staff</rdfs:label>
        <rdfs:comment>Base class for all medical staff members</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#Doctor">
        <rdfs:subClassOf rdf:resource="#MedicalStaff"/>
        <rdfs:label>Doctor</rdfs:label>
        <rdfs:comment>Licensed physician with full medical authority</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#Nurse">
        <rdfs:subClassOf rdf:resource="#MedicalStaff"/>
        <rdfs:label>Nurse</rdfs:label>
        <rdfs:comment>Registered nurse with patient care responsibilities</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#Pharmacist">
        <rdfs:subClassOf rdf:resource="#MedicalStaff"/>
        <rdfs:label>Pharmacist</rdfs:label>
        <rdfs:comment>Licensed pharmacist for medication management</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#Administrator">
        <rdfs:subClassOf rdf:resource="#MedicalStaff"/>
        <rdfs:label>Administrator</rdfs:label>
        <rdfs:comment>Hospital administrator with system access</rdfs:comment>
    </owl:Class>
    
    <!-- Patient and Records -->
    <owl:Class rdf:about="#Patient">
        <rdfs:label>Patient</rdfs:label>
        <rdfs:comment>A patient in the healthcare system</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#PatientRecord">
        <rdfs:label>Patient Record</rdfs:label>
        <rdfs:comment>Medical record containing patient information</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#SensitiveRecord">
        <rdfs:subClassOf rdf:resource="#PatientRecord"/>
        <rdfs:label>Sensitive Record</rdfs:label>
        <rdfs:comment>Patient record containing sensitive information (mental health, HIV, etc.)</rdfs:comment>
    </owl:Class>
    
    <!-- Medical Procedures -->
    <owl:Class rdf:about="#MedicalProcedure">
        <rdfs:label>Medical Procedure</rdfs:label>
        <rdfs:comment>Any medical procedure performed on a patient</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#Surgery">
        <rdfs:subClassOf rdf:resource="#MedicalProcedure"/>
        <rdfs:label>Surgery</rdfs:label>
        <rdfs:comment>Surgical procedure requiring special authorization</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#EmergencyProcedure">
        <rdfs:subClassOf rdf:resource="#MedicalProcedure"/>
        <rdfs:label>Emergency Procedure</rdfs:label>
        <rdfs:comment>Emergency medical procedure with expedited approval</rdfs:comment>
    </owl:Class>
    
    <!-- Prescriptions -->
    <owl:Class rdf:about="#Prescription">
        <rdfs:label>Prescription</rdfs:label>
        <rdfs:comment>Medication prescription for a patient</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#ControlledSubstance">
        <rdfs:subClassOf rdf:resource="#Prescription"/>
        <rdfs:label>Controlled Substance</rdfs:label>
        <rdfs:comment>Prescription for controlled substances requiring special authorization</rdfs:comment>
    </owl:Class>
    
    <!-- Action Classes -->
    <owl:Class rdf:about="#Action">
        <rdfs:label>Action</rdfs:label>
        <rdfs:comment>Base class for all actions in the healthcare system</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#AccessPatientRecord">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>Access Patient Record</rdfs:label>
        <rdfs:comment>Action to access a patient's medical record</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#CreatePrescription">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>Create Prescription</rdfs:label>
        <rdfs:comment>Action to create a new prescription</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#ScheduleSurgery">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>Schedule Surgery</rdfs:label>
        <rdfs:comment>Action to schedule a surgical procedure</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#ModifyPatientRecord">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>Modify Patient Record</rdfs:label>
        <rdfs:comment>Action to modify patient record information</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#DeletePatientRecord">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>Delete Patient Record</rdfs:label>
        <rdfs:comment>Action to delete a patient record (restricted)</rdfs:comment>
    </owl:Class>
    
    <owl:Class rdf:about="#ViewSensitiveRecord">
        <rdfs:subClassOf rdf:resource="#Action"/>
        <rdfs:label>View Sensitive Record</rdfs:label>
        <rdfs:comment>Action to view sensitive patient information</rdfs:comment>
    </owl:Class>

    <!-- ============================================ -->
    <!-- PROPERTIES (RELATIONSHIPS) -->
    <!-- ============================================ -->
    
    <!-- Staff-Patient Relationships -->
    <owl:ObjectProperty rdf:about="#treats">
        <rdfs:label>treats</rdfs:label>
        <rdfs:comment>Relates medical staff to patients they treat</rdfs:comment>
        <rdfs:domain rdf:resource="#MedicalStaff"/>
        <rdfs:range rdf:resource="#Patient"/>
    </owl:ObjectProperty>
    
    <!-- Patient-Record Relationships -->
    <owl:ObjectProperty rdf:about="#hasRecord">
        <rdfs:label>has record</rdfs:label>
        <rdfs:comment>Relates a patient to their medical records</rdfs:comment>
        <rdfs:domain rdf:resource="#Patient"/>
        <rdfs:range rdf:resource="#PatientRecord"/>
    </owl:ObjectProperty>
    
    <!-- Procedure Relationships -->
    <owl:ObjectProperty rdf:about="#requiresProcedure">
        <rdfs:label>requires procedure</rdfs:label>
        <rdfs:comment>Relates a patient condition to required procedures</rdfs:comment>
        <rdfs:domain rdf:resource="#Patient"/>
        <rdfs:range rdf:resource="#MedicalProcedure"/>
    </owl:ObjectProperty>
    
    <!-- Prescription Relationships -->
    <owl:ObjectProperty rdf:about="#hasPrescription">
        <rdfs:label>has prescription</rdfs:label>
        <rdfs:comment>Relates a patient to their prescriptions</rdfs:comment>
        <rdfs:domain rdf:resource="#Patient"/>
        <rdfs:range rdf:resource="#Prescription"/>
    </owl:ObjectProperty>
    
    <!-- Action Permission Properties -->
    <owl:ObjectProperty rdf:about="#requiresRole">
        <rdfs:label>requires role</rdfs:label>
        <rdfs:comment>Specifies which role is required to perform an action</rdfs:comment>
        <rdfs:domain rdf:resource="#Action"/>
        <rdfs:range rdf:resource="#MedicalStaff"/>
    </owl:ObjectProperty>
    
    <owl:ObjectProperty rdf:about="#requiresApproval">
        <rdfs:label>requires approval</rdfs:label>
        <rdfs:comment>Indicates that an action requires approval from a specific role</rdfs:comment>
        <rdfs:domain rdf:resource="#Action"/>
        <rdfs:range rdf:resource="#MedicalStaff"/>
    </owl:ObjectProperty>
    
    <owl:ObjectProperty rdf:about="#appliesTo">
        <rdfs:label>applies to</rdfs:label>
        <rdfs:comment>Specifies which entity type an action can be applied to</rdfs:comment>
        <rdfs:domain rdf:resource="#Action"/>
        <rdfs:range rdf:resource="http://www.w3.org/2002/07/owl#Thing"/>
    </owl:ObjectProperty>
    
    <!-- Data Properties -->
    <owl:DatatypeProperty rdf:about="#accessReason">
        <rdfs:label>access reason</rdfs:label>
        <rdfs:comment>Reason for accessing patient record (required for audit)</rdfs:comment>
        <rdfs:domain rdf:resource="#AccessPatientRecord"/>
        <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#string"/>
    </owl:DatatypeProperty>
    
    <owl:DatatypeProperty rdf:about="#isEmergency">
        <rdfs:label>is emergency</rdfs:label>
        <rdfs:comment>Indicates if this is an emergency situation</rdfs:comment>
        <rdfs:domain rdf:resource="#MedicalProcedure"/>
        <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#boolean"/>
    </owl:DatatypeProperty>
    
    <owl:DatatypeProperty rdf:about="#requiresConsent">
        <rdfs:label>requires consent</rdfs:label>
        <rdfs:comment>Indicates if patient consent is required</rdfs:comment>
        <rdfs:domain rdf:resource="#MedicalProcedure"/>
        <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#boolean"/>
    </owl:DatatypeProperty>

    <!-- ============================================ -->
    <!-- ACTION INDIVIDUALS -->
    <!-- ============================================ -->
    
    <AccessPatientRecord rdf:about="#accessRecordAction">
        <rdfs:label>access patient record</rdfs:label>
        <requiresRole rdf:resource="#MedicalStaff"/>
        <appliesTo rdf:resource="#PatientRecord"/>
    </AccessPatientRecord>
    
    <CreatePrescription rdf:about="#createPrescriptionAction">
        <rdfs:label>create prescription</rdfs:label>
        <requiresRole rdf:resource="#Doctor"/>
        <appliesTo rdf:resource="#Prescription"/>
    </CreatePrescription>
    
    <ScheduleSurgery rdf:about="#scheduleSurgeryAction">
        <rdfs:label>schedule surgery</rdfs:label>
        <requiresRole rdf:resource="#Doctor"/>
        <requiresApproval rdf:resource="#Doctor"/>
        <appliesTo rdf:resource="#Surgery"/>
    </ScheduleSurgery>
    
    <ModifyPatientRecord rdf:about="#modifyRecordAction">
        <rdfs:label>modify patient record</rdfs:label>
        <requiresRole rdf:resource="#Doctor"/>
        <appliesTo rdf:resource="#PatientRecord"/>
    </ModifyPatientRecord>
    
    <DeletePatientRecord rdf:about="#deleteRecordAction">
        <rdfs:label>delete patient record</rdfs:label>
        <requiresRole rdf:resource="#Administrator"/>
        <appliesTo rdf:resource="#PatientRecord"/>
    </DeletePatientRecord>
    
    <ViewSensitiveRecord rdf:about="#viewSensitiveAction">
        <rdfs:label>view sensitive record</rdfs:label>
        <requiresRole rdf:resource="#Doctor"/>
        <appliesTo rdf:resource="#SensitiveRecord"/>
    </ViewSensitiveRecord>

    <!-- ============================================ -->
    <!-- BUSINESS RULES AS OWL RESTRICTIONS -->
    <!-- ============================================ -->
    
    <!-- Rule 1: Only Doctors can create prescriptions -->
    <owl:Class rdf:about="#DoctorOnlyCreatePrescription">
        <rdfs:subClassOf rdf:resource="#CreatePrescription"/>
        <rdfs:comment>Restriction: Only Doctor role can create prescriptions</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#CreatePrescription"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresRole"/>
                        <owl:hasValue rdf:resource="#Doctor"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 2: Controlled substances require pharmacist approval -->
    <owl:Class rdf:about="#ControlledSubstancePrescription">
        <rdfs:subClassOf rdf:resource="#CreatePrescription"/>
        <rdfs:comment>Creating prescription for controlled substances requires pharmacist approval</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#CreatePrescription"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#appliesTo"/>
                        <owl:someValuesFrom rdf:resource="#ControlledSubstance"/>
                    </owl:Restriction>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresApproval"/>
                        <owl:hasValue rdf:resource="#Pharmacist"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 3: Surgery requires two doctor approvals -->
    <owl:Class rdf:about="#SurgeryRequiresDualApproval">
        <rdfs:subClassOf rdf:resource="#ScheduleSurgery"/>
        <rdfs:comment>Surgery scheduling requires approval from two doctors</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#ScheduleSurgery"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresApproval"/>
                        <owl:minCardinality rdf:datatype="http://www.w3.org/2001/XMLSchema#nonNegativeInteger">2</owl:minCardinality>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 4: Only Administrators can delete patient records -->
    <owl:Class rdf:about="#AdminOnlyDeleteRecord">
        <rdfs:subClassOf rdf:resource="#DeletePatientRecord"/>
        <rdfs:comment>Restriction: Only Administrator role can delete patient records</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#DeletePatientRecord"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresRole"/>
                        <owl:hasValue rdf:resource="#Administrator"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 5: Sensitive records can only be viewed by Doctors -->
    <owl:Class rdf:about="#DoctorOnlyViewSensitive">
        <rdfs:subClassOf rdf:resource="#ViewSensitiveRecord"/>
        <rdfs:comment>Restriction: Only Doctor role can view sensitive patient records</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#ViewSensitiveRecord"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresRole"/>
                        <owl:hasValue rdf:resource="#Doctor"/>
                    </owl:Restriction>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#appliesTo"/>
                        <owl:someValuesFrom rdf:resource="#SensitiveRecord"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 6: Patient record access requires access reason for audit -->
    <owl:Class rdf:about="#AccessRequiresReason">
        <rdfs:subClassOf rdf:resource="#AccessPatientRecord"/>
        <rdfs:comment>Accessing patient records requires a documented reason for audit purposes</rdfs:comment>
        <owl:equivalentClass>
            <owl:Restriction>
                <owl:onProperty rdf:resource="#accessReason"/>
                <owl:minCardinality rdf:datatype="http://www.w3.org/2001/XMLSchema#nonNegativeInteger">1</owl:minCardinality>
            </owl:Restriction>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 7: Emergency procedures can bypass normal approval -->
    <owl:Class rdf:about="#EmergencyProcedureBypass">
        <rdfs:subClassOf rdf:resource="#EmergencyProcedure"/>
        <rdfs:comment>Emergency procedures can be performed with expedited approval</rdfs:comment>
        <owl:equivalentClass>
            <owl:Restriction>
                <owl:onProperty rdf:resource="#isEmergency"/>
                <owl:hasValue rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean">true</owl:hasValue>
            </owl:Restriction>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 8: Nurses can access records but not modify without doctor approval -->
    <owl:Class rdf:about="#NurseReadOnlyAccess">
        <rdfs:subClassOf rdf:resource="#AccessPatientRecord"/>
        <rdfs:comment>Nurses can read patient records but modifications require doctor approval</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#AccessPatientRecord"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresRole"/>
                        <owl:someValuesFrom rdf:resource="#Nurse"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 9: Modifying patient records requires doctor role -->
    <owl:Class rdf:about="#DoctorOnlyModifyRecord">
        <rdfs:subClassOf rdf:resource="#ModifyPatientRecord"/>
        <rdfs:comment>Restriction: Only Doctor role can modify patient records</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#ModifyPatientRecord"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresRole"/>
                        <owl:hasValue rdf:resource="#Doctor"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 10: Non-emergency surgery requires patient consent -->
    <owl:Class rdf:about="#SurgeryRequiresConsent">
        <rdfs:subClassOf rdf:resource="#ScheduleSurgery"/>
        <rdfs:comment>Non-emergency surgery requires documented patient consent</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#ScheduleSurgery"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#appliesTo"/>
                        <owl:someValuesFrom>
                            <owl:Restriction>
                                <owl:onProperty rdf:resource="#isEmergency"/>
                                <owl:hasValue rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean">false</owl:hasValue>
                            </owl:Restriction>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresConsent"/>
                        <owl:hasValue rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean">true</owl:hasValue>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 11: Pharmacists can only approve controlled substances -->
    <owl:Class rdf:about="#PharmacistControlledSubstanceOnly">
        <rdfs:subClassOf rdf:resource="#CreatePrescription"/>
        <rdfs:comment>Pharmacists can only approve controlled substance prescriptions</rdfs:comment>
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="#CreatePrescription"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#requiresApproval"/>
                        <owl:hasValue rdf:resource="#Pharmacist"/>
                    </owl:Restriction>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="#appliesTo"/>
                        <owl:someValuesFrom rdf:resource="#ControlledSubstance"/>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>
    </owl:Class>
    
    <!-- Rule 12: Access to patient records must be logged -->
    <owl:Class rdf:about="#LoggedAccess">
        <rdfs:subClassOf rdf:resource="#AccessPatientRecord"/>
        <rdfs:comment>All patient record access must be logged for HIPAA compliance</rdfs:comment>
        <owl:equivalentClass>
            <owl:Restriction>
                <owl:onProperty rdf:resource="#accessReason"/>
                <owl:minCardinality rdf:datatype="http://www.w3.org/2001/XMLSchema#nonNegativeInteger">1</owl:minCardinality>
            </owl:Restriction>
        </owl:equivalentClass>
    </owl:Class>

</rdf:RDF>
